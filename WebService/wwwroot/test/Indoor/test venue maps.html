<!DOCTYPE html>
<html>
<head>
<metaname="viewport"content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<metahttp-equiv="Content-type"content="text/html;charset=UTF-8">
<metaname="description"content="Here Venues API ot load and visualize data on the map">
<title>Display Venues on map</title>
<linkrel="stylesheet"type="text/css"href="https://js.api.here.com/v3/3.1/mapsjs-ui.css"/>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-core.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-service.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1/mapsjs-ui.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.1.30.15/mapsjs-venues.js"></script>
</head>
<body>
<div>
<input type="button"name="loadVenue"id="loadVenue"value="load venue"onclick="loadVenue_old();">
</div>
<div id="mapContainer"style="width:90vw; height:90vh;"></div>
<script type="text/javascript">
 
// Step 1: initialize communication with the platform
// In your own code, replace variable window.apikey with your own apikey
var platform = new H.service.Platform(
{ apikey: 'pmYeJOpIGhJHSyyizwSKKPJoAHdjJ_bj12yfckgiT4E' }
);
var defaultLayers = platform.createDefaultLayers();
// Step 2: initialize a map
var map = new H.Map(document.getElementById('mapContainer'), defaultLayers.vector.normal.map,
{ zoom: 18, center: { lat: 25.204247, lng: 55.3733013 }
,
pixelRatio: window.devicePixelRatio || 1,
padding: {top: 50, left: 50, bottom: 50, right: 50}
});
// add a resize listener to make sure that the map occupies the whole container
window.addEventListener('resize', () => map.getViewPort().resize());
// Step 3: make the map interactive
// MapEvents enables the event system
// Behavior implements default interactions for pan/zoom (also on mobile touch environments)
var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));
// Step 4: create the default UI component, for displaying bubbles
var ui = H.ui.UI.createDefault(map, defaultLayers);
/**
Load and add indoor data on the map.
*
@param {H.Map} map A HERE Map instance
*/
function loadVenue_old() {
// Get an instance of the Indoor Maps service using a valid apikey for Indoor Maps
const venuesService = platform.getVenuesService({ apikey: 'QICW7garcjxE7C7sSguJcNolMZXqYCJ9m5o6Qq3ygjg' });
// Indoor Maps provider interacts with a tile layer to visualize and control the Indoor Map
const venuesProvider = new H.venues.Provider();
// Indoor Maps service provides a loadVenue method
venuesService.loadVenue(27608).then((venue) => {
// venuesService.loadVenue(7348).then((venue) => {
// add Indoor Maps data to the Indoor Maps provider
venuesProvider.addVenue(venue);
venuesProvider.setActiveVenue(venue);
// create a tile layer for the Indoor Maps provider
map.addLayer(new H.map.layer.TileLayer(venuesProvider));
// optionally select a different level
// venue.setActiveDrawing(7880);
// create a level control
const levelControl = new H.venues.ui.LevelControl(venue);
ui.addControl('level-control', levelControl);
// create a drawing control:
const drawingControl = new H.venues.ui.DrawingControl(venue);
ui.addControl('drawing-control', drawingControl);
// get the shape's bounding box and adjust the camera position
map.getViewModel().setLookAtData({
bounds: venue.getBoundingBox(),
}, true);
});
}
</script>
</body>